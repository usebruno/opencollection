<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenCollection Playground - Vanilla HTML Example</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }
        #playground-container {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="playground-container"></div>

    <link rel="stylesheet" href="../../packages/oc-playground/dist-standalone/playground.css">
    <script src="../../packages/oc-playground/dist-standalone/playground.umd.js"></script>

    <script>
        const sampleCollection = {
            name: "Sample API Collection",
            description: "A comprehensive OpenCollection demonstration showcasing various API endpoints and configurations",
            items: [
                {
                    type: "http",
                    name: "Get Users",
                    method: "GET",
                    url: "https://jsonplaceholder.typicode.com/users",
                    docs: "Retrieves a list of all users from the JSONPlaceholder API",
                    headers: [
                        {
                            name: "Accept",
                            value: "application/json"
                        },
                        {
                            name: "User-Agent",
                            value: "OpenCollection-Playground/1.0"
                        }
                    ],
                    params: [
                        {
                            name: "limit",
                            value: "10",
                            type: "query",
                            enabled: true
                        }
                    ]
                },
                {
                    type: "http", 
                    name: "Create User",
                    method: "POST",
                    url: "https://jsonplaceholder.typicode.com/users",
                    docs: "Creates a new user in the system",
                    headers: [
                        {
                            name: "Content-Type",
                            value: "application/json"
                        }
                    ],
                    body: {
                        type: "json",
                        data: JSON.stringify({
                            name: "John Doe",
                            email: "john@example.com",
                            phone: "1-770-736-8031 x56442",
                            website: "hildegard.org"
                        }, null, 2)
                    },
                    auth: {
                        type: "bearer",
                        token: "your-api-token-here"
                    }
                },
                {
                    type: "http",
                    name: "Update User",
                    method: "PUT",
                    url: "https://jsonplaceholder.typicode.com/users/1",
                    docs: "Updates an existing user by ID",
                    headers: [
                        {
                            name: "Content-Type",
                            value: "application/json"
                        }
                    ],
                    body: {
                        type: "json",
                        data: JSON.stringify({
                            name: "Jane Doe",
                            email: "jane@example.com"
                        }, null, 2)
                    }
                },
                {
                    type: "http",
                    name: "Delete User",
                    method: "DELETE",
                    url: "https://jsonplaceholder.typicode.com/users/1",
                    docs: "Deletes a user by ID"
                },
                {
                    type: "http",
                    name: "Get All Posts",
                    method: "GET", 
                    url: "https://jsonplaceholder.typicode.com/posts",
                    docs: "Retrieves all blog posts"
                },
                {
                    type: "http",
                    name: "Get Post by ID",
                    method: "GET",
                    url: "https://jsonplaceholder.typicode.com/posts/1",
                    docs: "Retrieves a specific post by its ID",
                    params: [
                        {
                            name: "id",
                            value: "1",
                            type: "path",
                            enabled: true
                        }
                    ]
                },
                {
                    type: "http",
                    name: "Create Post",
                    method: "POST",
                    url: "https://jsonplaceholder.typicode.com/posts",
                    docs: "Creates a new blog post",
                    headers: [
                        {
                            name: "Content-Type",
                            value: "application/json"
                        }
                    ],
                    body: {
                        type: "json",
                        data: JSON.stringify({
                            title: "My New Post",
                            body: "This is the content of my new post",
                            userId: 1
                        }, null, 2)
                    }
                },
                {
                    type: "script",
                    script: `// Utility functions for API testing
function generateRandomId() {
    return Math.floor(Math.random() * 1000) + 1;
}

function formatDate(date) {
    return new Date(date).toISOString();
}

// Export functions for use in tests
module.exports = {
    generateRandomId,
    formatDate
};`
                }
            ],
            environments: [
                {
                    name: "Production",
                    description: "Production environment configuration",
                    variables: [
                        {
                            name: "baseUrl",
                            value: "https://api.example.com"
                        },
                        {
                            name: "apiKey",
                            value: "prod-api-key-here"
                        }
                    ]
                },
                {
                    name: "Development", 
                    description: "Development environment for testing",
                    variables: [
                        {
                            name: "baseUrl",
                            value: "http://localhost:3000"
                        },
                        {
                            name: "apiKey",
                            value: "dev-api-key-here"
                        }
                    ]
                },
                {
                    name: "Staging",
                    description: "Staging environment for QA testing",
                    variables: [
                        {
                            name: "baseUrl",
                            value: "https://staging-api.example.com"
                        },
                        {
                            name: "apiKey",
                            value: "staging-api-key-here"
                        }
                    ]
                }
            ],
            base: {
                headers: [
                    {
                        name: "Accept",
                        value: "application/json"
                    },
                    {
                        name: "User-Agent",
                        value: "OpenCollection/1.0"
                    }
                ],
                variables: [
                    {
                        name: "timeout",
                        value: "30000"
                    }
                ]
            },
            docs: "This is a sample OpenCollection that demonstrates various features including HTTP requests, folders, scripts, environments, and authentication methods. It uses the JSONPlaceholder API for testing purposes."
        };

        const container = document.getElementById('playground-container');
        
        new window.OpenCollectionPlayground({
            target: container,
            opencollection: sampleCollection,
            theme: 'light',
            logo: 'ðŸš€ OpenCollection Demo'
        });
    </script>
</body>
</html> 